{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Resultados del scraping</title>
    <link rel="stylesheet" href="{% static 'estilos.css' %}">

    <script>
        function marcarCompletado(boton) {
            boton.classList.add('completado');
            boton.textContent = "¡Completado!";
            const mensaje = boton.nextElementSibling;
            mensaje.style.display = 'block';
        }
    </script>
</head>
<body>
    <h1>Resultados del scraping</h1>

    {% for resultado in resultados %}
    <div class="pdf-card">
        <h2>PDF: <a href="{{ resultado.url }}" target="_blank">{{ resultado.url }}</a></h2>
        
        <h3>Frases con "oposiciones":</h3>
        <ul>
            {% for frase in resultado.oposiciones %}
                <li>{{ frase }}</li>
            {% endfor %}
        </ul>

        <h3>Frases con "plaza":</h3>
        <ul>
            {% for frase in resultado.plaza %}
                <li>{{ frase }}</li>
            {% endfor %}
        </ul>

        <h3>Frases con "convocatoria":</h3>
        <ul>
            {% for frase in resultado.convocatoria %}
                <li>{{ frase }}</li>
            {% endfor %}
        </ul>

        <button class="completar-btn" onclick="marcarCompletado(this)">Marcar como completado</button>
        <div class="mensaje">¡Este PDF ha sido marcado como completado!</div>
    </div>
    {% endfor %}
</body>
</html>
